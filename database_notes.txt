SELECT datname FROM pg_database;

CREATE TABLE users (
    ID SERIAL PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    email VARCHAR(150) NOT NULL,
    password TEXT NOT NULL,
    card_num TEXT NOT NULL,
    valid_to DATE NOT NULL,
    activation_code INT NOT NULL,
    is_profile_activated BOOLEAN NOT NULL DEFAULT FALSE
);
SELECT * FROM users;
DROP TABLE users;

CREATE OR REPLACE PROCEDURE register_user(
    _name VARCHAR,
    _email VARCHAR,
    _password VARCHAR,
    _card_num TEXT,
    _valid_to DATE,
    _activation_code INT,
    _is_profile_activated BOOLEAN
)
LANGUAGE plpgsql
AS $$
    BEGIN
        INSERT INTO users (name,email,password,card_num,valid_to, activation_code, is_profile_activated)
        VALUES (_name,_email,_password, _card_num, _valid_to,
                _activation_code, _is_profile_activated);
    END;
$$;


